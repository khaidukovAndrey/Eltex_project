# Очередь для передачи пакетов между потоками
В данной папке находится очередь, которая будет служить для передачи пакетов между потоками.
Для работы с ней необходимо подключить заголовочный файл *queue.h*, как показано в примере ниже:
```c
#include "queue.h"
#include <stdio.h>


// Output: Was read 19 bytes: This is first pkg!


int main()
{
    unsigned char buff[] = "This is first pkg!";

    Queue_t queue;
    init(&queue); // Инициализация очереди

    push(&queue, buff, 19); // Добавление элемента

    unsigned short read_bytes = pop(&queue, buff); // Получить первый элемент и удалить его!
    printf("Was read %d bytes: %s", read_bytes, buff);

    int dest_res = queue_destroy(&queue);
    
    return dest_res;
}
```
Реализованы следующие функции:

| Действие                                                                                                                                | Функция                                              | Возвращаемое значение                                                        |
|-----------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------|------------------------------------------------------------------------------|
| Инициализация очереди.                                                                                                                  | int init(Queue_t *)                                  | -1 - произошла ошибка<br/>0 - инициализация прошла успешно.                  |
| Уничтожение очереди.                                                                                                                    | int queue_destroy(Queue_t *);                        | -1 - произошла ошибка<br/>0 - уничтожение произошло успешно.                 |
| Добавление элемента. Если в очереди не окажется свободных мест, то элемент не будет записан.                                            | int push(Queue_t *, unsigned char *, unsigned short) | -1 - ошибка аргументов<br/>>=0 - количество записанных байт                  |
| Проверка наличия свободных мест в очереди.                                                                                              | int is_full(Queue_t *)                               | 0 - есть свободные места<br/>1 - очередь полна                               |
| Проверка наличия хотя бы одного элемента.                                                                                               | int is_empty(Queue_t *)                              | 0 - в очереди есть элемент<br/>1 - элементы отсутствуют                      |
| Удаление первого элемента очереди.                                                                                                    . | void remove_front(Queue_t *)                         | -                                                                            |
| Получить первый элемент очереди и удалить его. Если очередь окажется пуста, то функция блокирует поток до момента появления элемента.   | unsigned short pop(Queue_t *, unsigned char *)       | Размер прочитанного пакета<br/>0 - прочитано ноль байт или неверный аргумент |
| Прочитать первый элемент очереди, не удаляя его.                                                                                        | unsigned short front(Queue_t *, unsigned char *)     | Размер прочитанного пакета<br/>0 - прочитано ноль байт или неверный аргумент |
| Прочитать последний элемент очереди, не удаляя его.                                                                                     | unsigned short back(Queue_t *, unsigned char *)      | Размер прочитанного пакета<br/>0 - прочитано ноль байт или неверный аргумент |